{"codeList":["$ minikube start\n","NAME                  PROVISIONER                  RECLAIMPOLICY    VOLUMEBIINDINGMODE    ALLOWVOLUMEEXPANSION     AGE\nstandard (default)    k8s.io/minikube-hostpath     Delete           Immediate             false                    3m36s\n","$ kubectl apply -f https://github.com/jetstack/cert-manager/releases/download/v1.5.3/cert-manager.yaml\n","customresourcedefinition.apiextensions.k8s.io/certificaterequests.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/certificates.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/challenges.acme.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/clusterissuers.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/issuers.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/orders.acme.cert-manager.io created\nnamespace/cert-manager created\nserviceaccount/cert-manager-cainjector created\nserviceaccount/cert-manager created\nserviceaccount/cert-manager-webhook created\nclusterrole.rbac.authorization.k8s.io/cert-manager-cainjector created\nclusterrole.rbac.authorization.k8s.io/cert-manager-controller-issuers created\nclusterrole.rbac.authorization.k8s.io/cert-manager-controller-clusterissuers created\nclusterrole.rbac.authorization.k8s.io/cert-manager-controller-certificates created\nclusterrole.rbac.authorization.k8s.io/cert-manager-controller-orders created\nclusterrole.rbac.authorization.k8s.io/cert-manager-controller-challenges created\nclusterrole.rbac.authorization.k8s.io/cert-manager-controller-ingress-shim created\nclusterrole.rbac.authorization.k8s.io/cert-manager-view created\nclusterrole.rbac.authorization.k8s.io/cert-manager-edit created\nclusterrole.rbac.authorization.k8s.io/cert-manager-controller-approve:cert-manager-io created\nclusterrole.rbac.authorization.k8s.io/cert-manager-controller-certificatesigningrequests created\nclusterrole.rbac.authorization.k8s.io/cert-manager-webhook:subjectaccessreviews created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-cainjector created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-controller-issuers created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-controller-clusterissuers created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-controller-certificates created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-controller-orders created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-controller-challenges created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-controller-ingress-shim created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-controller-approve:cert-manager-io created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-controller-certificatesigningrequests created\nclusterrolebinding.rbac.authorization.k8s.io/cert-manager-webhook:subjectaccessreviews created\nrole.rbac.authorization.k8s.io/cert-manager-cainjector:leaderelection created\nrole.rbac.authorization.k8s.io/cert-manager:leaderelection created\nrole.rbac.authorization.k8s.io/cert-manager-webhook:dynamic-serving created\nrolebinding.rbac.authorization.k8s.io/cert-manager-cainjector:leaderelection created\nrolebinding.rbac.authorization.k8s.io/cert-manager:leaderelection created\nrolebinding.rbac.authorization.k8s.io/cert-manager-webhook:dynamic-serving created\nservice/cert-manager created\nservice/cert-manager-webhook created\ndeployment.apps/cert-manager-cainjector created\ndeployment.apps/cert-manager created\ndeployment.apps/cert-manager-webhook created\nmutatingwebhookconfiguration.admissionregistration.k8s.io/cert-manager-webhook created\nvalidatingwebhookconfiguration.admissionregistration.k8s.io/cert-manager-webhook created\n","NAME                                      READY   STATUS    RESTARTS   AGE\ncert-manager-848f547974-gccz8             1/1     Running   0          70s\ncert-manager-cainjector-54f4cc6b5-dpj84   1/1     Running   0          70s\ncert-manager-webhook-7c9588c76-tqncn      1/1     Running   0          70s\n","helm install milvus-operator \\\n  -n milvus-operator --create-namespace \\\n  --wait --wait-for-jobs \\\n  https://github.com/milvus-io/milvus-operator/releases/download/v0.6.7/milvus-operator-0.6.7.tgz\n","NAME: milvus-operator\nLAST DEPLOYED: Thu Jul  7 13:18:40 2022\nNAMESPACE: milvus-operator\nSTATUS: deployed\nREVISION: 1\nTEST SUITE: None\nNOTES:\nMilvus Operator Is Starting, use `kubectl get -n milvus-operator deploy/milvus-operator` to check if its successfully installed\nIf Operator not started successfully, check the checker's log with `kubectl -n milvus-operator logs job/milvus-operator-checker`\nFull Installation doc can be found in https://github.com/milvus-io/milvus-operator/blob/main/docs/installation/installation.md\nQuick start with `kubectl apply -f https://raw.githubusercontent.com/milvus-io/milvus-operator/main/config/samples/milvus_minimum.yaml`\nMore samples can be found in https://github.com/milvus-io/milvus-operator/tree/main/config/samples\nCRD Documentation can be found in https://github.com/milvus-io/milvus-operator/tree/main/docs/CRD\n","$ kubectl apply -f https://raw.githubusercontent.com/milvus-io/milvus-operator/main/deploy/manifests/deployment.yaml\n","namespace/milvus-operator created\ncustomresourcedefinition.apiextensions.k8s.io/milvusclusters.milvus.io created\nserviceaccount/milvus-operator-controller-manager created\nrole.rbac.authorization.k8s.io/milvus-operator-leader-election-role created\nclusterrole.rbac.authorization.k8s.io/milvus-operator-manager-role created\nclusterrole.rbac.authorization.k8s.io/milvus-operator-metrics-reader created\nclusterrole.rbac.authorization.k8s.io/milvus-operator-proxy-role created\nrolebinding.rbac.authorization.k8s.io/milvus-operator-leader-election-rolebinding created\nclusterrolebinding.rbac.authorization.k8s.io/milvus-operator-manager-rolebinding created\nclusterrolebinding.rbac.authorization.k8s.io/milvus-operator-proxy-rolebinding created\nconfigmap/milvus-operator-manager-config created\nservice/milvus-operator-controller-manager-metrics-service created\nservice/milvus-operator-webhook-service created\ndeployment.apps/milvus-operator-controller-manager created\ncertificate.cert-manager.io/milvus-operator-serving-cert created\nissuer.cert-manager.io/milvus-operator-selfsigned-issuer created\nmutatingwebhookconfiguration.admissionregistration.k8s.io/milvus-operator-mutating-webhook-configuration created\nvalidatingwebhookconfiguration.admissionregistration.k8s.io/milvus-operator-validating-webhook-configuration created\n","NAME                               READY   STATUS    RESTARTS   AGE\nmilvus-operator-5fd77b87dc-msrk4   1/1     Running   0          46s\n","$ kubectl apply -f https://raw.githubusercontent.com/milvus-io/milvus-operator/main/config/samples/milvus_cluster_default.yaml\n","milvuscluster.milvus.io/my-release created\n","$ kubectl get milvus my-release -o yaml\n","apiVersion: milvus.io/v1alpha1\nkind: MilvusCluster\nmetadata:\n...\nstatus:\n  conditions:\n  - lastTransitionTime: \"2021-11-02T02:52:04Z\"\n    message: 'Get \"http://my-release-minio.default:9000/minio/admin/v3/info\": dial\n      tcp 10.96.78.153:9000: connect: connection refused'\n    reason: ClientError\n    status: \"False\"\n    type: StorageReady\n  - lastTransitionTime: \"2021-11-02T02:52:04Z\"\n    message: connection error\n    reason: PulsarNotReady\n    status: \"False\"\n    type: PulsarReady\n  - lastTransitionTime: \"2021-11-02T02:52:04Z\"\n    message: All etcd endpoints are unhealthy\n    reason: EtcdNotReady\n    status: \"False\"\n    type: EtcdReady\n  - lastTransitionTime: \"2021-11-02T02:52:04Z\"\n    message: Milvus Dependencies is not ready\n    reason: DependencyNotReady\n    status: \"False\"\n    type: MilvusReady\n  endpoint: my-release-milvus.default:19530\n  status: Unhealthy\n","$ kubectl get pods\n","NAME                                  READY   STATUS              RESTARTS   AGE\nmy-release-etcd-0                     0/1     Running             0          16s\nmy-release-etcd-1                     0/1     ContainerCreating   0          16s\nmy-release-etcd-2                     0/1     ContainerCreating   0          16s\nmy-release-minio-0                    1/1     Running             0          16s\nmy-release-minio-1                    1/1     Running             0          16s\nmy-release-minio-2                    0/1     Running             0          16s\nmy-release-minio-3                    0/1     ContainerCreating   0          16s\nmy-release-pulsar-bookie-0            0/1     Pending             0          15s\nmy-release-pulsar-bookie-1            0/1     Pending             0          15s\nmy-release-pulsar-bookie-init-h6tfz   0/1     Init:0/1            0          15s\nmy-release-pulsar-broker-0            0/1     Init:0/2            0          15s\nmy-release-pulsar-broker-1            0/1     Init:0/2            0          15s\nmy-release-pulsar-proxy-0             0/1     Init:0/2            0          16s\nmy-release-pulsar-proxy-1             0/1     Init:0/2            0          15s\nmy-release-pulsar-pulsar-init-d2t56   0/1     Init:0/2            0          15s\nmy-release-pulsar-recovery-0          0/1     Init:0/1            0          16s\nmy-release-pulsar-toolset-0           1/1     Running             0          16s\nmy-release-pulsar-zookeeper-0         0/1     Pending             0          16s\n","...\nstatus:\n  conditions:\n  - lastTransitionTime: \"2021-11-02T05:59:41Z\"\n    reason: StorageReady\n    status: \"True\"\n    type: StorageReady\n  - lastTransitionTime: \"2021-11-02T06:06:23Z\"\n    message: Pulsar is ready\n    reason: PulsarReady\n    status: \"True\"\n    type: PulsarReady\n  - lastTransitionTime: \"2021-11-02T05:59:41Z\"\n    message: Etcd endpoints is healthy\n    reason: EtcdReady\n    status: \"True\"\n    type: EtcdReady\n  - lastTransitionTime: \"2021-11-02T06:06:24Z\"\n    message: '[datacoord datanode indexcoord indexnode proxy querycoord querynode\n      rootcoord] not ready'\n    reason: MilvusComponentNotHealthy\n    status: \"False\"\n    type: MilvusReady\n  endpoint: my-release-milvus.default:19530\n  status: Unhealthy\n","$ kubectl get pods\n","NAME                                            READY   STATUS              RESTARTS   AGE\nmy-release-etcd-0                               1/1     Running             0          6m49s\nmy-release-etcd-1                               1/1     Running             0          6m49s\nmy-release-etcd-2                               1/1     Running             0          6m49s\nmy-release-milvus-datacoord-6c7bb4b488-k9htl    0/1     ContainerCreating   0          16s\nmy-release-milvus-datanode-5c686bd65-wxtmf      0/1     ContainerCreating   0          16s\nmy-release-milvus-indexcoord-586b9f4987-vb7m4   0/1     Running             0          16s\nmy-release-milvus-indexnode-5b9787b54-xclbx     0/1     ContainerCreating   0          16s\nmy-release-milvus-proxy-84f67cdb7f-pg6wf        0/1     ContainerCreating   0          16s\nmy-release-milvus-querycoord-865cc56fb4-w2jmn   0/1     Running             0          16s\nmy-release-milvus-querynode-5bcb59f6-nhqqw      0/1     ContainerCreating   0          16s\nmy-release-milvus-rootcoord-fdcccfc84-9964g     0/1     Running             0          16s\nmy-release-minio-0                              1/1     Running             0          6m49s\nmy-release-minio-1                              1/1     Running             0          6m49s\nmy-release-minio-2                              1/1     Running             0          6m49s\nmy-release-minio-3                              1/1     Running             0          6m49s\nmy-release-pulsar-bookie-0                      1/1     Running             0          6m48s\nmy-release-pulsar-bookie-1                      1/1     Running             0          6m48s\nmy-release-pulsar-bookie-init-h6tfz             0/1     Completed           0          6m48s\nmy-release-pulsar-broker-0                      1/1     Running             0          6m48s\nmy-release-pulsar-broker-1                      1/1     Running             0          6m48s\nmy-release-pulsar-proxy-0                       1/1     Running             0          6m49s\nmy-release-pulsar-proxy-1                       1/1     Running             0          6m48s\nmy-release-pulsar-pulsar-init-d2t56             0/1     Completed           0          6m48s\nmy-release-pulsar-recovery-0                    1/1     Running             0          6m49s\nmy-release-pulsar-toolset-0                     1/1     Running             0          6m49s\nmy-release-pulsar-zookeeper-0                   1/1     Running             0          6m49s\nmy-release-pulsar-zookeeper-1                   1/1     Running             0          6m\nmy-release-pulsar-zookeeper-2                   1/1     Running             0          6m26s\n","...\nstatus:\n  conditions:\n  - lastTransitionTime: \"2021-11-02T05:59:41Z\"\n    reason: StorageReady\n    status: \"True\"\n    type: StorageReady\n  - lastTransitionTime: \"2021-11-02T06:06:23Z\"\n    message: Pulsar is ready\n    reason: PulsarReady\n    status: \"True\"\n    type: PulsarReady\n  - lastTransitionTime: \"2021-11-02T05:59:41Z\"\n    message: Etcd endpoints is healthy\n    reason: EtcdReady\n    status: \"True\"\n    type: EtcdReady\n  - lastTransitionTime: \"2021-11-02T06:12:36Z\"\n    message: All Milvus components are healthy\n    reason: MilvusClusterHealthy\n    status: \"True\"\n    type: MilvusReady\n  endpoint: my-release-milvus.default:19530\n  status: Healthy\n","$ kubectl get pods\nNAME                                            READY   STATUS      RESTARTS   AGE\nmy-release-etcd-0                               1/1     Running     0          14m\nmy-release-etcd-1                               1/1     Running     0          14m\nmy-release-etcd-2                               1/1     Running     0          14m\nmy-release-milvus-datacoord-6c7bb4b488-k9htl    1/1     Running     0          6m\nmy-release-milvus-datanode-5c686bd65-wxtmf      1/1     Running     0          6m\nmy-release-milvus-indexcoord-586b9f4987-vb7m4   1/1     Running     0          6m\nmy-release-milvus-indexnode-5b9787b54-xclbx     1/1     Running     0          6m\nmy-release-milvus-proxy-84f67cdb7f-pg6wf        1/1     Running     0          6m\nmy-release-milvus-querycoord-865cc56fb4-w2jmn   1/1     Running     0          6m\nmy-release-milvus-querynode-5bcb59f6-nhqqw      1/1     Running     0          6m\nmy-release-milvus-rootcoord-fdcccfc84-9964g     1/1     Running     0          6m\nmy-release-minio-0                              1/1     Running     0          14m\nmy-release-minio-1                              1/1     Running     0          14m\nmy-release-minio-2                              1/1     Running     0          14m\nmy-release-minio-3                              1/1     Running     0          14m\nmy-release-pulsar-bookie-0                      1/1     Running     0          14m\nmy-release-pulsar-bookie-1                      1/1     Running     0          14m\nmy-release-pulsar-bookie-init-h6tfz             0/1     Completed   0          14m\nmy-release-pulsar-broker-0                      1/1     Running     0          14m\nmy-release-pulsar-broker-1                      1/1     Running     0          14m\nmy-release-pulsar-proxy-0                       1/1     Running     0          14m\nmy-release-pulsar-proxy-1                       1/1     Running     0          14m\nmy-release-pulsar-pulsar-init-d2t56             0/1     Completed   0          14m\nmy-release-pulsar-recovery-0                    1/1     Running     0          14m\nmy-release-pulsar-toolset-0                     1/1     Running     0          14m\nmy-release-pulsar-zookeeper-0                   1/1     Running     0          14m\nmy-release-pulsar-zookeeper-1                   1/1     Running     0          13m\nmy-release-pulsar-zookeeper-2                   1/1     Running     0          13m\n","$ kubectl delete milvus my-release\n","$ helm -n milvus-operator uninstall milvus-operator\n","$ kubectl delete -f https://raw.githubusercontent.com/milvus-io/milvus-operator/v0.6.7/deploy/manifests/deployment.yaml\n"],"headingContent":"","anchorList":[{"label":"Install Milvus Cluster with Milvus Operator","href":"Install-Milvus-Cluster-with-Milvus-Operator","type":1,"isActive":false},{"label":"Prerequisites","href":"Prerequisites","type":2,"isActive":false},{"label":"Create a K8s Cluster","href":"Create-a-K8s-Cluster","type":2,"isActive":false},{"label":"Deploy Milvus Operator","href":"Deploy-Milvus-Operator","type":2,"isActive":false},{"label":"Install a Milvus cluster","href":"Install-a-Milvus-cluster","type":2,"isActive":false},{"label":"Uninstall the Milvus cluster","href":"Uninstall-the-Milvus-cluster","type":2,"isActive":false},{"label":"Uninstall Milvus Operator","href":"Uninstall-Milvus-Operator","type":2,"isActive":false},{"label":"Delete the K8s cluster","href":"Delete-the-K8s-cluster","type":2,"isActive":false},{"label":"What's next","href":"Whats-next","type":2,"isActive":false}]}