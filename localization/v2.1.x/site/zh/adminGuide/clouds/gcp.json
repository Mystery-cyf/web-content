{"codeList":["gcloud compute networks create milvus-network --project=milvus-testing-nonprod --subnet-mode=auto --mtu=1460 --bgp-routing-mode=regional\n","gcloud compute firewall-rules create milvus-network-allow-icmp --project=milvus-testing-nonprod --network=projects/milvus-testing-nonprod/global/networks/milvus-network --description=Allows\\ ICMP\\ connections\\ from\\ any\\ source\\ to\\ any\\ instance\\ on\\ the\\ network. --direction=INGRESS --priority=65534 --source-ranges=0.0.0.0/0 --action=ALLOW --rules=icmp\n\ngcloud compute firewall-rules create milvus-network-allow-internal --project=milvus-testing-nonprod --network=projects/milvus-testing-nonprod/global/networks/milvus-network --description=Allows\\ connections\\ from\\ any\\ source\\ in\\ the\\ network\\ IP\\ range\\ to\\ any\\ instance\\ on\\ the\\ network\\ using\\ all\\ protocols. --direction=INGRESS --priority=65534 --source-ranges=10.128.0.0/9 --action=ALLOW --rules=all\n\ngcloud compute firewall-rules create milvus-network-allow-rdp --project=milvus-testing-nonprod --network=projects/milvus-testing-nonprod/global/networks/milvus-network --description=Allows\\ RDP\\ connections\\ from\\ any\\ source\\ to\\ any\\ instance\\ on\\ the\\ network\\ using\\ port\\ 3389. --direction=INGRESS --priority=65534 --source-ranges=0.0.0.0/0 --action=ALLOW --rules=tcp:3389\n\ngcloud compute firewall-rules create milvus-network-allow-ssh --project=milvus-testing-nonprod --network=projects/milvus-testing-nonprod/global/networks/milvus-network --description=Allows\\ TCP\\ connections\\ from\\ any\\ source\\ to\\ any\\ instance\\ on\\ the\\ network\\ using\\ port\\ 22. --direction=INGRESS --priority=65534 --source-ranges=0.0.0.0/0 --action=ALLOW --rules=tcp:22\n","gcloud compute --project=milvus-testing-nonprod firewall-rules create allow-milvus-in --description=\"Allow ingress traffic for Milvus on port 19530\" --direction=INGRESS --priority=1000 --network=projects/milvus-testing-nonprod/global/networks/milvus-network --action=ALLOW --rules=tcp:19530 --source-ranges=0.0.0.0/0\n","gcloud beta container --project \"milvus-testing-nonprod\" clusters create \"milvus-cluster-1\" --zone \"us-west1-a\" --no-enable-basic-auth --cluster-version \"1.20.8-gke.900\" --release-channel \"regular\" --machine-type \"e2-standard-4\" --image-type \"COS_CONTAINERD\" --disk-type \"pd-standard\" --disk-size \"100\" --max-pods-per-node \"110\" --num-nodes \"2\" --enable-stackdriver-kubernetes --enable-ip-alias --network \"projects/milvus-testing-nonprod/global/networks/milvus-network\" --subnetwork \"projects/milvus-testing-nonprod/regions/us-west1/subnetworks/milvus-network\"\n","gcloud container clusters get-credentials milvus-cluster-1\n","gcloud container clusters get-credentials milvus-cluster-1\n","helm repo add milvus https://milvus-io.github.io/milvus-helm/\n","helm repo update\n","helm install my-release milvus/milvus --set service.type=LoadBalancer\n","$ kubectl create secret generic mysecret --from-literal=accesskey=minioadmin --from-literal=secretkey=minioadmin --from-file=gcs_key.json=/home/credentials.json\n","$ helm install my-release milvus/milvus --set minio.existingSecret=mysecret --set minio.gcsgateway.enabled=true --set minio.gcsgateway.projectId=milvus-testing-nonprod --set externalGcs.bucketName=milvus-bucket-example --set minio.mode=standalone\n"],"headingContent":"","anchorList":[{"label":"Deploy a Milvus Cluster on GCP","href":"Deploy-a-Milvus-Cluster-on-GCP","type":1,"isActive":false},{"label":"Prerequisites","href":"Prerequisites","type":2,"isActive":false},{"label":"Set up network","href":"Set-up-network","type":2,"isActive":false},{"label":"Provision a Kubernetes cluster","href":"Provision-a-Kubernetes-cluster","type":2,"isActive":false},{"label":"Deploy Milvus","href":"Deploy-Milvus","type":2,"isActive":false},{"label":"Use Google Cloud Storage","href":"Use-Google-Cloud-Storage","type":2,"isActive":false},{"label":"What's next","href":"Whats-next","type":2,"isActive":false}]}