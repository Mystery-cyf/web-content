{"codeList":["$ sudo apt install --no-install-recommends nvidia-headless-545 nvidia-utils-545\n","$ modinfo nvidia | grep \"^version\"\nversion:        545.29.06\n","$ minikube start --gpus all\n","$ kubectl get sc\n","NAME                  PROVISIONER                  RECLAIMPOLICY    VOLUMEBIINDINGMODE    ALLOWVOLUMEEXPANSION     AGE\nstandard (default)    k8s.io/minikube-hostpath     Delete           Immediate             false                    3m36s\n","Capacity:\n  ...\n  nvidia.com/gpu:     4\n  ...\nAllocatable:\n  ...\n  nvidia.com/gpu:     4\n  ...\n","$ kubectl get sc\n","NAME                   PROVISIONER                                     RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE\nlocal-path (default)   rancher.io/local-path                           Delete          WaitForFirstConsumer   false                  461d\n","$ helm repo add milvus https://zilliztech.github.io/milvus-helm/\n","helm repo add zilliztech https://zilliztech.github.io/milvus-helm\nhelm repo update\n# upgrade existing helm release\nhelm upgrade my-release zilliztech/milvus\n","$ helm repo update\n","cat <<EOF > custom-values.yaml\nstandalone:\n  resources:\n    requests:\n      nvidia.com/gpu: \"1\"\n    limits:\n      nvidia.com/gpu: \"1\"\nEOF\n","$ helm install my-release milvus/milvus --set cluster.enabled=false --set etcd.replicaCount=1 --set minio.mode=standalone --set pulsar.enabled=false -f custom-values.yaml\n","cat <<EOF > custom-values.yaml\nindexNode:\n  resources:\n    requests:\n      nvidia.com/gpu: \"2\"\n    limits:\n      nvidia.com/gpu: \"2\"\nqueryNode:\n  resources:\n    requests:\n      nvidia.com/gpu: \"2\"\n    limits:\n      nvidia.com/gpu: \"2\"\nEOF\n","cat <<EOF > custom-values.yaml\nindexNode:\n  resources:\n    requests:\n      nvidia.com/gpu: \"1\"\n    limits:\n      nvidia.com/gpu: \"1\"\n  extraEnv:\n    - name: CUDA_VISIBLE_DEVICES\n      value: \"0\"\nqueryNode:\n  resources:\n    requests:\n      nvidia.com/gpu: \"1\"\n    limits:\n      nvidia.com/gpu: \"1\"\n  extraEnv:\n    - name: CUDA_VISIBLE_DEVICES\n      value: \"1\"\nEOF\n","$ helm install my-release milvus/milvus --set cluster.enabled=false --set etcd.replicaCount=1 --set minio.mode=standalone --set pulsar.enabled=false -f custom-values.yaml\n","$ kubectl get pods\n","NAME                                               READY   STATUS      RESTARTS   AGE\nmy-release-etcd-0                                  1/1     Running     0          30s\nmy-release-milvus-standalone-54c4f88cb9-f84pf      1/1     Running     0          30s\nmy-release-minio-5564fbbddc-mz7f5                  1/1     Running     0          30s\n","$ kubectl get pod my-release-milvus-standalone-54c4f88cb9-f84pf --template='{{(index (index .spec.containers 0).ports 0).containerPort}}{{\"\\n\"}}'\n","19530\n","$ kubectl port-forward service/my-release-milvus 27017:19530\n","Forwarding from 127.0.0.1:27017 -> 19530\n","$ kubectl port-forward --address 0.0.0.0 service/my-release-milvus 27017:19530\nForwarding from 0.0.0.0:27017 -> 19530\n","$ helm uninstall my-release\n","$ minikube stop\n","$ minikube delete\n"],"headingContent":"","anchorList":[{"label":"Install Milvus Standalone with GPU Support","href":"Install-Milvus-Standalone-with-GPU-Support","type":1,"isActive":false},{"label":"Prerequisites","href":"Prerequisites","type":2,"isActive":false},{"label":"Create a K8s cluster using minikube","href":"Create-a-K8s-cluster-using-minikube","type":2,"isActive":false},{"label":"Start a Kubernetes cluster with GPU worker nodes","href":"Start-a-Kubernetes-cluster-with-GPU-worker-nodes","type":2,"isActive":false},{"label":"Install Helm Chart for Milvus","href":"Install-Helm-Chart-for-Milvus","type":2,"isActive":false},{"label":"Start Milvus","href":"Start-Milvus","type":2,"isActive":false},{"label":"Connect to Milvus","href":"Connect-to-Milvus","type":2,"isActive":false},{"label":"Uninstall Milvus","href":"Uninstall-Milvus","type":2,"isActive":false},{"label":"Stop the K8s cluster","href":"Stop-the-K8s-cluster","type":2,"isActive":false},{"label":"Delete the K8s cluster","href":"Delete-the-K8s-cluster","type":2,"isActive":false},{"label":"What's next","href":"Whats-next","type":2,"isActive":false}]}